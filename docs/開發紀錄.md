# 開發紀錄

> **專案名稱**: FreeRoute RAG Infra
> **當前版本**: v0.2.1
> **最後更新**: 2025-10-23
> **主要維護**: [tc3oliver](https://github.com/tc3oliver)

---

## 📋 目錄

1. [專案概述](#專案概述)
2. [近期進展](#近期進展)
3. [專案架構](#專案架構)
4. [技術棧](#技術棧)
5. [環境配置](#環境配置)
6. [開發指南](#開發指南)
7. [測試策略](#測試策略)
8. [部署說明](#部署說明)
9. [已知問題與技術債](#已知問題與技術債)
10. [後續規劃](#後續規劃)

---

## 專案概述

### 核心使命
**零成本 GraphRAG 基礎設施 — 生產就緒且 LangChain 兼容**

端到端的 **Document → Vector Index → Knowledge Graph → Hybrid Retrieval** 管道，支援自動文件攝取、圖譜抽取、成本感知的多供應商路由。

### 關鍵特色
- 🐳 **一鍵部署**: Docker Compose 本地啟動所有服務
- 🔀 **OpenAI 兼容**: LiteLLM Proxy 提供統一的 API 介面
- 🔍 **混合檢索**: 向量搜索 + 知識圖譜 + 重排序
- 💰 **成本控制**: TokenCap 每日額度限制與自動 fallback
- 🧠 **本地推論**: Ollama (bge-m3 嵌入) + PyTorch (bge-reranker-v2-m3)
- 📊 **可觀測性**: 健康檢查、Prometheus 指標、結構化日誌

### 專案定位
- **目標用戶**: 開發者、研究人員、中小企業
- **使用場景**: RAG 應用開發、知識管理、智能客服、文件問答
- **成本優勢**: 優先使用免費/低成本供應商，本地推論降低依賴

---

## 近期進展

### 2025-10-25 (v0.2.2) 多租戶主線功能已完成

#### 多租戶功能驗收與進度總結

1. 建立 Tenant A/B，分別取得 API Key，所有 API 端點皆強制驗證租戶金鑰（sk-{tenant_id}-...），資料完全隔離。
2. 向量索引/查詢：Qdrant 以 vectors_{tenant_id} collection 隔離，交叉查詢驗證資料不混淆。
3. 圖譜抽取/查詢：Neo4j node/edge 皆帶 tenant_id，查詢只回 tenant 自己的資料。
4. 資料刪除：API 支援 tenant 資料安全刪除，整合測試通過。
5. 測試與文件：所有自動化測試斷言通過，cross-tenant 隔離驗證成功，主流程文件與 API 文件已補充多租戶規則。


### 2025-10-23 (v0.2.1)

#### 主要功能更新
- ✅ **feat**: 新增 OpenAI 兼容 Gateway 端點 (#36)
  - 目的：使用者統一透過 Gateway 呼叫 LLM，而非直接呼叫 litellm
  - 優勢：統一控管、日誌追蹤、權限管理、彈性擴充
  - 端點：`/v1/chat/completions`, `/v1/embeddings`
  - 兼容性：可直接用於 LangChain、OpenAI SDK

- ✅ **docs**: 完善中文文件 (docs-update)
  - 新增故障排查指南 (`docs/zh/troubleshooting.md`)
  - 更新 API 使用文件
  - 補充架構說明

#### 里程碑回顧

**v0.2.0 (2025-10)**: 完成 async-only 遷移與效能基準 (#31)
- 全面異步化改造，移除所有同步代碼
- 性能提升 3-5x（吞吐量和並發能力）
- 新增性能基準測試套件
- 異步客戶端：OpenAI AsyncClient, httpx AsyncClient
- 清理 legacy 測試代碼

**v0.1.3 (2025-09)**: 增強基礎、文件、驗證、測試 (#29)
- 完整的測試覆蓋（單元測試 88%+）
- 輸入驗證強化（vector search, retrieve 端點）
- 文件系統完善（英文/中文雙語）
- 架構決策文件（ADR）

**v0.1.2 (2025-09)**: Gateway 架構模組化 (#26)
- Gateway 模組拆分：routers, services, repositories, models
- 測試覆蓋率提升至 88%
- 代碼組織優化

### 關鍵修正
- 🐛 **fix**: 替換 `pip install trivy` 為官方 `trivy-action` (#28)
- 🧪 **test**: 強化 integration smoke test 覆蓋 (#27)

---

## 專案架構

### 目錄結構
```
free-rag/
├── services/                    # 核心服務
│   ├── gateway/                # API Gateway (FastAPI)
│   │   ├── routers/           # 路由層：chat, vector, graph, meta
│   │   ├── services/          # 服務層：ChatService, VectorService, GraphService
│   │   ├── repositories/      # 資料層：LiteLLM, Qdrant, Neo4j, Reranker 客戶端
│   │   ├── models.py          # Pydantic 資料模型
│   │   ├── config.py          # 配置管理
│   │   ├── deps.py            # 依賴注入
│   │   ├── middleware.py      # 中間件（日誌、指標、請求 ID）
│   │   └── utils.py           # 工具函數
│   ├── ingestor/              # 文件攝取服務
│   │   ├── app.py            # FastAPI 應用
│   │   └── cli.py            # 命令行工具
│   └── reranker/              # 重排序服務
│       └── server.py          # PyTorch 推論服務
├── integrations/
│   └── litellm/
│       └── plugins/
│           └── token_cap.py   # TokenCap 插件（TPD 限制 + Schema 注入）
├── containers/                 # Docker 構建
│   ├── gateway/Dockerfile
│   ├── ingestor/Dockerfile
│   ├── litellm/Dockerfile
│   └── reranker/Dockerfile
├── configs/
│   └── litellm.config.yaml    # LiteLLM 路由配置
├── schemas/
│   └── graph_schema.json      # 知識圖譜 JSON Schema
├── tests/                      # 測試套件
│   ├── unit/                  # 單元測試（88% 覆蓋率）
│   ├── integration/           # 整合測試
│   ├── performance/           # 性能基準測試
│   └── reranker/              # Reranker 測試
├── docs/                       # 文件
│   ├── en/                    # 英文文件
│   └── zh/                    # 中文文件
├── data/                       # 範例資料
├── docker-compose.yml          # 服務編排
├── pyproject.toml             # Python 專案配置
├── requirements-dev.txt       # 開發依賴
├── .env.example               # 環境變數範例
├── README.md / README.zh-TW.md
├── ROADMAP.md                 # 產品路線圖
└── CONTRIBUTING.md            # 貢獻指南
```

### 服務架構

```
使用者/SDK
    ↓
API Gateway (port 9800)
    ├── /v1/chat/completions  → LiteLLM Proxy (OpenAI 兼容)
    ├── /v1/embeddings        → LiteLLM Proxy → Ollama (本地嵌入)
    ├── /chat                 → Chat 服務
    ├── /retrieve             → Vector + Graph 混合檢索
    ├── /search               → 純向量搜索
    ├── /rerank               → Reranker 服務
    ├── /index/chunks         → 文件索引
    └── /graph/*              → 圖譜操作（extract, query, upsert）
    ↓
LiteLLM Proxy (port 9400) + TokenCap Plugin
    ├── OpenAI (gpt-4o-mini, o1-mini)
    ├── Google Gemini (gemini-2.5-flash)
    ├── OpenRouter (mistral-small-3.2-24b:free)
    ├── Groq (llama-3.1-8b-instant)
    └── Ollama (bge-m3 嵌入)
    ↓
儲存層
    ├── Qdrant (port 9333)    # 向量資料庫
    ├── Neo4j (port 9474/9687) # 知識圖譜
    ├── Redis (port 9379)      # Token 計數/快取
    └── PostgreSQL (port 5432) # LiteLLM 元資料
```

### 資料流

**文件攝取流程** (Ingestor → Gateway → Storage)
```
1. 掃描目錄 (Ingestor)
2. 文件讀取 & 切分 (simple chunking)
3. 調用 Gateway /index/chunks
   ├── 生成嵌入向量 (via /v1/embeddings → Ollama bge-m3)
   ├── 寫入 Qdrant (向量 + metadata)
   └── 寫入 PostgreSQL (metadata)
4. (可選) 圖譜抽取
   ├── 調用 LiteLLM (graph-extractor + schema injection)
   ├── LLM 輸出 JSON (nodes + edges)
   └── 寫入 Neo4j (CREATE 語句)
```

**檢索流程** (Query → Retrieval → Response)
```
1. 使用者查詢
2. Vector Search (Qdrant)
   └── 使用 local-embed (Ollama bge-m3) 生成查詢向量
3. (可選) Graph Expansion (Neo4j)
   └── 基於向量結果擴展子圖 (Cypher 查詢)
4. (可選) Reranking
   └── bge-reranker-v2-m3 重新排序結果
5. LLM 生成回答
   └── 透過 LiteLLM Proxy (rag-answer 模型鏈)
6. 返回結果（含引用來源）
```

---

## 技術棧

### 核心框架
| 層級 | 技術 | 用途 |
|------|------|------|
| **API 層** | FastAPI 0.118+ | REST API 框架，異步支援 |
| **LLM 路由** | LiteLLM 1.50+ | 多供應商統一介面 |
| **向量資料庫** | Qdrant latest | 高效向量搜索 |
| **圖資料庫** | Neo4j 5 Community | 知識圖譜儲存 |
| **快取/計數** | Redis 7 | Token 計數、結果快取 |
| **元資料庫** | PostgreSQL 16 | LiteLLM 配置與日誌 |

### 推論與模型
| 功能 | 模型/框架 | 配置 |
|------|----------|------|
| **Chat/RAG** | GPT-4o-mini → Gemini 2.5-flash → Mistral (free) → Groq Llama | 成本優先 fallback 鏈 |
| **Graph Extract** | GPT-4o-mini → O1-mini → Gemini 2.5-flash | 準確性優先 |
| **Embedding** | Ollama bge-m3 (local) | 1024 維，多語言 |
| **Reranker** | BAAI bge-reranker-v2-m3 | PyTorch + GPU (可選) |

### Python 生態
- **異步**: `asyncio`, `httpx`, `aiofiles`, `openai.AsyncOpenAI`
- **資料驗證**: `pydantic` 2.9+
- **測試**: `pytest`, `pytest-asyncio`, `coverage`
- **代碼品質**: `ruff`, `black`, `isort`, `mypy`
- **容器化**: Docker 24+, Docker Compose v2

### CI/CD
- **平台**: GitHub Actions
- **工作流**:
  - `ci.yml`: Lint (ruff) + Type Check (mypy) + Unit Tests + Coverage
  - `pre-commit.yml`: 自動格式化檢查
  - `release.yml`: 自動發布 Release Notes
  - `security-nightly.yml`: Trivy 安全掃描
- **覆蓋率**: 單元測試 88%+（目標 90%）

---

## 環境配置

### 必填環境變數

#### 資料庫密碼
```bash
POSTGRES_PASSWORD=<secure-password>  # PostgreSQL
NEO4J_PASSWORD=neo4j123              # Neo4j
```

#### LLM API Keys
```bash
OPENAI_API_KEY=sk-proj-...           # 主要推理（必填）
GOOGLE_API_KEY=AIza...               # Gemini fallback（必填）
OPENROUTER_API_KEY=sk-or-v1-...      # 可選
GROQ_API_KEY=gsk_...                 # 可選
```

#### 認證與安全
```bash
LITELLM_MASTER_KEY=sk-admin          # LiteLLM 管理金鑰
LITELLM_KEY=sk-admin                 # Gateway 內部使用
API_GATEWAY_KEYS=dev-key             # Gateway 外部訪問（可多個，逗號分隔）
UI_USERNAME=admin                    # LiteLLM UI 帳號
UI_PASSWORD=admin123                 # LiteLLM UI 密碼
```

### TokenCap 配置
```bash
OPENAI_TPD_LIMIT=9000000            # 每日 OpenAI token 上限（9M）
TZ_OFFSET_HOURS=8                   # 時區偏移（台北 +8）
OPENAI_REROUTE_REAL=true            # 是否真正執行 reroute
REDIS_URL=redis://redis:6379/0      # Redis 連接
```

### 服務連接
```bash
QDRANT_URL=http://qdrant:6333
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
RERANKER_URL=http://reranker:8080
OLLAMA_BASE=http://ollama:11434
GATEWAY_BASE=http://apigw:8000
```

### 完整範例
參考 `.env.example` 檔案，包含：
- 詳細說明和預設值
- 生產環境安全檢查清單
- 常見問題解答
- 配置優先級說明

---

## 開發指南

### 快速開始

#### 1. 環境準備
```bash
# Clone 專案
git clone https://github.com/tc3oliver/FreeRoute-RAG-Infra.git
cd FreeRoute-RAG-Infra

# 建立虛擬環境
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# .venv\Scripts\activate   # Windows

# 安裝依賴
pip install -r services/gateway/requirements.txt
pip install -r requirements-dev.txt
```

#### 2. 配置環境變數
```bash
cp .env.example .env
# 編輯 .env，填入必要的 API Keys
```

#### 3. 啟動服務
```bash
# 啟動所有服務
docker compose up -d --build

# 查看日誌
docker compose logs -f apigw

# 健康檢查
curl http://localhost:9800/health | jq
curl http://localhost:9400/health | jq
```

#### 4. 本地開發（無 Docker）
```bash
# 僅啟動依賴服務
docker compose up -d qdrant neo4j redis db ollama reranker

# 本地運行 Gateway
cd services/gateway
uvicorn app:app --host 0.0.0.0 --port 9800 --reload

# 本地運行 Ingestor
cd services/ingestor
uvicorn app:app --host 0.0.0.0 --port 9900 --reload
```

### 開發工作流

#### 代碼規範
```bash
# 安裝 pre-commit hooks
pip install pre-commit
pre-commit install

# 手動運行格式化
pre-commit run --all-files

# Lint 檢查
ruff check .

# 類型檢查
mypy --config-file mypy.ini integrations/litellm/plugins/token_cap.py
```

#### 測試執行
```bash
# 單元測試（快速）
PYTHONPATH=$(pwd) pytest -q tests/unit

# 特定模組測試
PYTHONPATH=$(pwd) pytest tests/unit/test_gateway_chat_service.py -v

# 覆蓋率報告
coverage run -m pytest tests/unit
coverage report -m
coverage html  # 生成 HTML 報告

# 整合測試（需要服務運行）
docker compose up -d
PYTHONPATH=$(pwd) pytest tests/integration -v

# 性能測試
PYTHONPATH=$(pwd) pytest tests/performance -v
```

### 常見開發任務

#### 新增 API 端點
1. 在 `services/gateway/routers/` 新增路由
2. 在 `services/gateway/services/` 新增業務邏輯
3. 在 `services/gateway/models.py` 定義資料模型
4. 在 `tests/unit/` 新增單元測試
5. 更新 API 文件 (`docs/en/api_usage.md`)

#### 修改 LiteLLM 配置
1. 編輯 `configs/litellm.config.yaml`
2. 重啟 litellm 服務：`docker compose restart litellm`
3. 測試新配置：`curl http://localhost:9400/v1/models`

#### 更新知識圖譜 Schema
1. 編輯 `schemas/graph_schema.json`
2. 驗證 JSON Schema：使用線上工具或 `jsonschema` 套件
3. 重啟相關服務：`docker compose restart litellm apigw`
4. 測試：`curl -X POST http://localhost:9800/graph/probe -H "X-API-Key: dev-key" -d '{"strict_json": true}'`

---

## 測試策略

### 測試金字塔

```
        /\      整合測試 (integration/)
       /  \     - E2E 工作流測試
      /    \    - 服務煙霧測試
     /------\
    /        \  單元測試 (unit/)
   /          \ - Gateway 所有模組
  /            \- TokenCap 插件
 /--------------\
   測試覆蓋率: 88%+
```

### 測試分類

#### 單元測試 (`tests/unit/`)
- **覆蓋率**: 88%+ (目標 90%)
- **範圍**:
  - `test_gateway_chat_service.py`: ChatService (完整覆蓋)
  - `test_gateway_vector_service.py`: VectorService (部分覆蓋，待加強)
  - `test_gateway_graph_service.py`: GraphService (60% 覆蓋)
  - `test_gateway_async_services.py`: 異步服務測試
  - `test_gateway_repositories.py`: 資料庫客戶端
  - `test_gateway_routers.py`: 路由處理器
  - `test_gateway_models.py`: Pydantic 模型驗證
  - `test_gateway_utils.py`: 工具函數
  - `test_gateway_middleware.py`: 中間件
  - `test_gateway_handlers.py`: 錯誤處理
  - `test_tokencap.py`: TokenCap 核心邏輯
  - `test_tokencap_extras.py`: TokenCap 額外功能
  - `test_ingestor_cli.py`: Ingestor CLI

#### 整合測試 (`tests/integration/`)
- `test_gateway_smoke.py`: Gateway 健康檢查與基本端點
- `test_e2e_workflows.py`: 完整的文件攝取 → 檢索 → 回答流程

#### 性能測試 (`tests/performance/`)
- `test_async_benchmarks.py`: 異步性能基準測試
  - 並發請求吞吐量
  - 延遲分布 (P50, P95, P99)
  - 記憶體使用

#### Reranker 測試 (`tests/reranker/`)
- `test_reranker.py`: Reranker 服務測試

### 測試執行策略

**Pre-commit Hook**:
- 自動執行 `tests/unit` 快速測試
- 可配置為 pre-push (需修改 `.pre-commit-config.yaml`)

**CI Pipeline**:
1. Lint (ruff)
2. Type Check (mypy)
3. Unit Tests + Coverage (≥50%)
4. Docker Build (gateway, litellm)
5. Docker Compose Config 驗證

**本地完整測試**:
```bash
# 啟動服務
docker compose up -d

# 等待服務就緒
sleep 30

# 執行所有測試
PYTHONPATH=$(pwd) pytest tests/ -v --cov=services --cov-report=html
```

### 測試最佳實踐

1. **隔離性**: 使用 mock/patch 隔離外部依賴
2. **可重複**: 測試不依賴外部狀態，可重複執行
3. **快速**: 單元測試應在 1 分鐘內完成
4. **清晰**: 測試名稱清楚描述測試內容
5. **覆蓋**: 重點覆蓋關鍵路徑和邊界條件

---

## 部署說明

### Docker Compose 部署（推薦）

#### 生產環境配置
```bash
# 1. 準備環境變數
cp .env.example .env
# 編輯 .env，確保所有必填項目都已填寫

# 2. 生產環境安全檢查
# - 更改所有預設密碼
# - 設定強 API Keys
# - 關閉不必要的埠號
# - 設定 LOG_LEVEL=WARNING

# 3. 啟動服務
docker compose up -d --build

# 4. 驗證部署
./scripts/health_check.sh  # 如果有的話
curl http://localhost:9800/health
curl http://localhost:9400/health
```

#### 資源需求
- **CPU**: 4 核心以上推薦
- **記憶體**: 8GB 以上（16GB 推薦）
- **磁碟**: 20GB 以上（含模型）
- **GPU**: 可選（NVIDIA，用於 Reranker 加速）

#### 服務埠號
| 服務 | 內部埠 | 外部埠 | 用途 |
|------|--------|--------|------|
| API Gateway | 8000 | 9800 | 主要 API 入口 |
| LiteLLM Proxy | 4000 | 9400 | LLM 路由 + Dashboard |
| Ingestor | 8000 | 9900 | 文件攝取 |
| Reranker | 8080 | 9080 | 重排序服務 |
| Qdrant | 6333 | 9333 | 向量資料庫 |
| Neo4j HTTP | 7474 | 9474 | Neo4j 瀏覽器 |
| Neo4j Bolt | 7687 | 9687 | Neo4j 連接 |
| Redis | 6379 | 9379 | 快取/計數 |
| Ollama | 11434 | 9143 | 本地嵌入 |

### Kubernetes 部署（未來）

參考 `ROADMAP.md` v0.5.0 規劃：
- Helm Charts
- StatefulSet 配置
- Ingress 和 Service
- 自動擴展配置

### 雲平台部署（未來）

參考 `ROADMAP.md` v0.5.0 規劃：
- AWS ECS/EKS
- Azure Container Instances
- GCP Cloud Run
- Terraform 模組

---

## 已知問題與技術債

### 已知限制

1. **文件切分**: 當前使用簡單的字符切分（`_simple_chunk_text`）
   - **影響**: 可能切斷重要上下文
   - **計劃**: v0.2.0 整合 LangChain `RecursiveCharacterTextSplitter`

2. **圖譜抽取穩定性**: 依賴 LLM 輸出 JSON，偶爾格式錯誤
   - **緩解**: 已實現 retry 機制和多模型 fallback
   - **計劃**: v0.3.0 加強 JSON 驗證和修復

3. **向量搜索單一**: 僅支援向量相似度搜索
   - **影響**: 對關鍵字查詢效果一般
   - **計劃**: v0.3.0 新增 BM25 + 混合搜索

4. **無多租戶支援**: 當前為單租戶設計
   - **影響**: 無法隔離多個專案/用戶資料
   - **計劃**: v0.4.0 實現租戶隔離

### 技術債

1. **代碼重複**: 部分工具函數散佈在不同模組
   - **優先級**: 中
   - **計劃**: 持續重構，提取共用工具庫

2. **錯誤處理不一致**: 部分模組錯誤處理方式不統一
   - **優先級**: 高
   - **計劃**: 統一異常類層次和錯誤碼

3. **配置管理**: 部分配置硬編碼在代碼中
   - **優先級**: 中
   - **計劃**: 統一配置管理，支援動態更新

4. **測試覆蓋不均**: VectorService 覆蓋率較低（11%）
   - **優先級**: 高
   - **計劃**: v0.2.0 提升至 80%+

5. **依賴管理**: 使用 requirements.txt，未鎖定版本
   - **優先級**: 中
   - **計劃**: 遷移至 Poetry 或 pip-tools

### 安全考量

1. **API Key 管理**: 僅支援基本的 X-API-Key 認證
   - **風險**: 中
   - **計劃**: v0.4.0 實現 JWT + RBAC

2. **輸入驗證**: 已有 Pydantic 驗證，但需加強
   - **風險**: 低-中
   - **計劃**: 持續強化，防止注入攻擊

3. **HTTPS/TLS**: 當前僅 HTTP
   - **風險**: 高（生產環境）
   - **緩解**: 建議在 Nginx/Traefik 反向代理層加 TLS

4. **機密管理**: 使用 .env 檔案
   - **風險**: 中
   - **計劃**: v0.4.0 整合 Vault 或 Secrets Manager

---

## 後續規劃

### v0.2.0 (2025 Q4) - 性能與可觀測性 ⭐⭐⭐⭐⭐
**狀態**: 進行中

#### 核心目標
- [ ] **異步化架構改造** (已完成 90%)
  - [x] Gateway 服務層全面異步
  - [x] 資料庫客戶端異步化
  - [ ] 性能基準測試完善

- [ ] **智能文本切分**
  - [ ] 整合 LangChain RecursiveCharacterTextSplitter
  - [ ] 支援按文件類型切分（Markdown, Code, Table）
  - [ ] 可配置切分策略

- [ ] **批處理與並行優化**
  - [ ] 文件攝取並行化
  - [ ] 批量嵌入生成
  - [ ] 圖譜抽取批處理

- [ ] **可觀測性增強**
  - [ ] OpenTelemetry 整合
  - [ ] 結構化日誌系統
  - [ ] 增強監控指標（延遲、錯誤率、Token 使用）

- [ ] **測試覆蓋提升**
  - [ ] VectorService 覆蓋率提升至 80%+
  - [ ] GraphService 覆蓋率提升至 85%+
  - [ ] 整合測試套件擴充

### v0.3.0 (2026 Q1) - 進階 RAG 功能 ⭐⭐⭐⭐
**主題**: 檢索質量提升

- 多路召回融合（BM25 + Vector + Graph）
- 查詢理解與優化（改寫、多跳推理）
- 上下文優化（壓縮、引用追蹤、質量評估）
- 圖譜可視化 Web UI
- 高級圖譜推理（複雜 Cypher、路徑查找）
- Schema 管理（動態更新、版本控制）

### v0.4.0 (2026 Q2) - 多租戶與安全 ⭐⭐⭐
**主題**: 企業級功能

- 租戶隔離（資料、API Key、配額）
- JWT 認證 + RBAC 權限控制
- 安全加固（輸入驗證、注入防護、HTTPS/TLS）
- 機密管理（Vault 整合）
- 審計日誌

### v0.5.0 (2026 Q3) - 管理與用戶體驗 ⭐⭐⭐
**主題**: 易用性提升

- Web 管理界面（React + TypeScript）
- 可視化配置編輯器
- 數據管理工具（備份、恢復、遷移）
- 文檔增強（OpenAPI、Postman Collection、影片教學）
- CLI 工具（互動式設置、健康檢查）

### v0.6.0 (2026 Q4) - AI Agent 與創新 ⭐⭐
**主題**: 前沿功能

- Function Calling（工具註冊、多步驟 Agent）
- Multi-Agent 協作
- 多模態支援（圖片、PDF、OCR）
- 流式與實時處理（WebSocket、增量索引）

詳細規劃請參考 `ROADMAP.md`。

---

## 附錄

### 專案指標

- **代碼行數**:
  - 服務代碼: ~2,800 行
  - 測試代碼: ~6,400 行
- **測試覆蓋率**: 88%+
- **CI 通過率**: 100%
- **文件頁數**: 20+ 頁

### 關鍵連結

- **GitHub**: https://github.com/tc3oliver/FreeRoute-RAG-Infra
- **文件**: `README.md`, `README.zh-TW.md`
- **API 文件**: `docs/en/api_usage.md`, `docs/zh/api_usage.md`
- **架構文件**: `docs/zh/architecture.md`
- **故障排查**: `docs/zh/troubleshooting.md`
- **產品路線圖**: `ROADMAP.md`
- **貢獻指南**: `CONTRIBUTING.md`

### 貢獻者

- 主要維護: [tc3oliver](https://github.com/tc3oliver)
- 貢獻者: [Contributors](https://github.com/tc3oliver/FreeRoute-RAG-Infra/graphs/contributors)

### 授權

MIT License - 詳見 `LICENSE`

---

> **接手建議**:
> 1. 先閱讀 `README.zh-TW.md` 了解專案全貌
> 2. 運行 `docker compose up -d` 體驗完整功能
> 3. 閱讀 `docs/zh/api_usage.md` 熟悉 API
> 4. 查看 `tests/unit/` 了解測試策略
> 5. 參考 `ROADMAP.md` 了解未來方向
> 6. 遇到問題查閱 `docs/zh/troubleshooting.md`

**最後更新**: 2025-10-23
**維護者**: tc3oliver
**專案狀態**: 活躍開發中 🚀
